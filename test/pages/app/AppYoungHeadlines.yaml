module: app
description: app少年头条模块
input: []
output: []

methods:
    InVoice:
        desc: 点击少年头条查看更多元素，进入头条播放列表
        steps:
            #获取少年头条第一个标题名
            - ${VoiceText} = $.getText('com.dedao.juvenile:id/tvAudioContent')
            - $.setVar('VoiceText',${VoiceText})
            #点击查看更多，进入头条播放页面
            - click('com.dedao.juvenile:id/tvMore')
            #进入少年头条页面
            - sleep(3)
            #点击进入头条第一个具体播放页面
            - click('com.dedao.juvenile:id/tvTitle')
            #播放进度条滑动到开始
            - seekBar()


    FirstVoice:
        desc: 点击少年头条，进入头条播放列表
        steps:
            #点击少年头条模块
            - click('com.dedao.juvenile:id/checkMoreClickView')
            #进入少年头条页面
            - sleep(3)
            #获取头条列表第一个标题名称
            - ${Headtext} = $.getText('com.dedao.juvenile:id/tvTitle')
            #点击进入头条具体播放页面
            - click('com.dedao.juvenile:id/tvTitle')
            - seekBar()
#            #滑动页面，找到文稿元素
#            - ${flag} = True
#            - while ${flag}:
#                - swipe(0.5,0.75,0.5,0.55)
#                - ${isWord} = check(com.dedao.juvenile:id/ivWord)
#                - if ${isWord}:
#                    - ${flag} = False
#                    - break
#                - else:
#                    - ${flag} = True
#            #点击播放按钮至暂停状态
#            - click('com.dedao.juvenile:id/ivPlay')
#            #点击文稿按钮，进入正在播放的文稿
#            - click('com.dedao.juvenile:id/ivWord')
#            - sleep(2)
#            - ${isHeadtext} = isContain(${Headtext})
#            - $.setVar('isHeadtext',${isHeadtext})
#            #三次返回到首页
#            - goBack
#            - goBack
#            - goBack
    OneVoice:
        desc: 点击少年头条的查看更多按钮，滑动头条列表获取某一个标题，点击文稿，与对应文稿对比
        steps:
            #点击少年头条模块
            - click('com.dedao.juvenile:id/tvMore')
            #进入少年头条页面
            - sleep(3)
            #向下滑动多次，选取对应标题
            - swipe(up)
            - swipe(up)
            #获取头条列表第一个标题名称
            - ${HeadOnetext} = $.getText('com.dedao.juvenile:id/tvTitle')
            #进入播放页面
            - click('com.dedao.juvenile:id/tvTitle')


    SwipeWord:
        desc: 播放页面，滑动到文稿元素
        steps:
            #滑动页面，找到文稿元素
            - ${flag} = True
            - while ${flag}:
                - swipe(0.5,0.75,0.5,0.55)
                - ${isWord} = check(com.dedao.juvenile:id/ivWord)
                - if ${isWord}:
                    - ${flag} = False
                    - break
                - else:
                    - ${flag} = True



    StopVoice:
        desc: 播放页面，暂停播放
        steps:
            - seekBar()
            - ${flag} = True
            - while ${flag}:
                #点击暂停播放
                - click('com.dedao.juvenile:id/ivPlay')
                #获取此时播放到时间数
                - ${tvCurrentDuration} = $.getText('com.dedao.juvenile:id/tvCurrentDuration')
                - sleep(2)
                - ${tvCurrentDuration1} = $.getText('com.dedao.juvenile:id/tvCurrentDuration')
                - if ${tvCurrentDuration} == ${tvCurrentDuration1}:
                    - ${flag} = False
                    - break
                - else:
                    - ${flag} = True
            #查看当前进度条时间为多少
            - $.setVar('tvCurrentDuration',${tvCurrentDuration})


    MoreVoice:
        desc: InVoice/FirstVoice头条第一个标题，OneVoice滑动两次后头条第一个标题，进入播放页面，核对对应文稿元素
        steps:
            #点击文稿按钮，进入正在播放的文稿
            - click('com.dedao.juvenile:id/ivWord')
            - sleep(2)
            - ${isHeadtext1} = isContain(${Headtext1})
            - $.setVar('isHeadtext1',${isHeadtext1})
            #三次返回到首页
            - goBack
            - goBack
            - goBack


#    HeadWord:
#        desc: 进入头条播放页面的文稿
#        steps:
#            #点击少年头条模块
#            - click('com.dedao.juvenile:id/checkMoreClickView')
#            #点击进入头条具体播放页面
#            - click('com.dedao.juvenile:id/tvTitle')
#            - seekBar()
#            #滑动页面，找到文稿元素
#            - ${flag} = True
#            - while ${flag}:
#                - swipe(0.5,0.75,0.5,0.55)
#                - ${isWord} = check(com.dedao.juvenile:id/ivWord)
#                - if ${isWord}:
#                    - ${flag} = False
#                    - break
#                - else:
#                    - ${flag} = True
#            #点击播放按钮至暂停状态
#            - click('com.dedao.juvenile:id/ivPlay')
#            #点击文稿按钮，进入正在播放的文稿
#            - click('com.dedao.juvenile:id/ivWord')
#            - sleep(2)


    YoungVioce:
        desc: 头条的播放全部按钮
        steps:
            - ${VoiceText} = $.getText('com.dedao.juvenile:id/tvAudioContent')
            - $.setVar('VoiceText',${VoiceText})
            #点击少年头条模块的播放全部按钮
            - click('com.dedao.juvenile:id/ivPlay')
            - ${flag} = True
            - while ${flag}:
              - ${isTitle} = check(com.dedao.juvenile:id/tvAudioTitle)
              - if ${isTitle}:
                    - ${flag} = False
                    - break
              - else:
                    - ${flag} = True
                    - click('com.dedao.juvenile:id/ivPlay')
            #出来对应播放框
            - ${title} = $.getText('com.dedao.juvenile:id/tvAudioTitle')
            - $.setVar('title',${title})

